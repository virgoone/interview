# BFC

`BFC` 是**块级格式上下文**,它是一个独立的渲染区域，只有 `Block-level box` 参与， 它规定了内部的 `Block-level Box` 如何布局，并且与这个区域外部毫不相干。

## 生成 BFC

BFC 的生成条件：
1. 根元素 
2. `float` 不为 `none` 
3. `position` 为 `absolute` 或 `fixed` 
4. `display` 为 `inline-block`, `flex`, `inline-flex` 
5. `overflow` 不为 `visible`

## BFC 的特性

1. **外边距合并**：在 BFC 中，盒子从顶端开始垂直一个接一个排列，盒子**垂直方向的距离由 margin 决定**，属于同一个 BFC 的两个相邻盒子的 margin 会发生**重叠**，每一个盒子的 `margin-left` 会触碰到容器的 `border-left`
2. **紧贴浮动边缘**：BFC 的区域不会与浮动盒子产生交集，而是**紧贴浮动边缘**，计算 BFC 高度时，自然也会检测浮动或者定位的盒子高度

## BFC 的作用
1. **清除元素内部浮动**
2. **解决外边距合并（塌陷）**问题
3. 制作**右侧自适应的两栏盒子**问题

例：当要设计两栏布局时，左边的元素设为 `float:left`，右边的 `div` 不会考虑这个浮动元素，造成遮挡，可以给右边元素加 `overflow:hidden`，就会避开浮动元素

### 外边距合并

**外边距合并**指的是，当两个**垂直外边距**相遇时，它们将形成**一个外边距**。合并后的外边距的高度等于两个发生合并的外边距的高度中的**较大者**。

#### 如何合并

1. 当一个元素出现在另一个元素上面时，第一个元素的**下外边距**与第二个元素的**上外边距**会发生合并
2. 一个元素**包含**在另一个元素中时（假设没有内边距或边框把外边距分隔开），它们的**上和/或下外边距**也会发生合并
3. 假设有一个**空元素**，它有外边距，但是没有边框或填充。在这种情况下，**上外边距与下外边距**就碰到了一起，它们会发生合并

#### 取消合并

1. **加 border 或 padding **分开两个 margin 
2. 使用 **BFC**

## IFC 内联格式化上下文

内部的盒子会在水平方向，一个个的放置
IFC 的高度，由里面最高盒子的高度决定（子元素撑开父盒子）
当一行不够放置的时候会自动切换到下一行