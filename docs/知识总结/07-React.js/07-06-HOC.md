# 高阶组件

> 高阶组件（HOC）是 React 中用于复用组件逻辑的一种高级技巧。HOC 自身不是 React API 的一部分，它是一种基于 React 的组合特性而形成的设计模式。

具体而言，**高阶组件是参数为组件，返回值为新组件的函数。**

```javascript
const EnhancedComponent = higherOrderComponent(WrappedComponent);
```

组件是将 props 转换为 UI，而高阶组件是将组件转换为另一个组件。

HOC 在 React 的第三方库中很常见，例如 Redux 的 `connect`。

## 特点

使用场景：**提取组件的公共逻辑**

1. 高阶组件不能去修改作为参数的组件，高阶组件必须是一个**纯函数**，不应该有任何副作用
2. 高阶组件返回的结果必须是一个新的 **React 组件**，这个新的组件的 JSX 部分肯定会包含作为参数的组件
3. 高阶组件不关心你传递的数据（props）是什么，一般需要把传给自己的 props 转手传递给作为参数的组件，并且被包装组件不关心数据来源，

## 注意

1. 官方推荐在高阶组件里尽量不要设置 state 值，传值的话可以用 props 的方法
2. 尽量不去改变原始组件，而是通过组合的方式
3. **被包裹组件的静态方法会丢失**，因为我们将组件当做参数传入函数中，返回的已经不是原来的组件，而是一个新的组件，原来的静态方法自然就不存在了。
